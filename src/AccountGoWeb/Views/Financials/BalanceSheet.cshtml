@model ICollection<AccountGoWeb.Models.BalanceSheet>
@{
  ViewBag.Title = "BalanceSheet";
  Layout = "~/Views/Shared/_Layout_tailwind.cshtml";
}
@if (Model != null)
{
  <div class="text-center my-4">
    <h3 class="text-lg font-semibold">Balance Sheet</h3>
  </div>
  <div class="overflow-x-auto">
    <table class="table-auto w-full border border-gray-300">
      <thead class="bg-gray-200 text-gray-700">
        <tr class="font-bold text-left">
          <th class="px-4 py-2 border-b">Account Code</th>
          <th class="px-4 py-2 border-b">Account Name</th>
          <th class="px-4 py-2 border-b text-right">Amount</th>
        </tr>
      </thead>
      <tbody>
        @foreach (var asset in Model.Where(a => a.AccountClassId == 1))
        {
          <tr class="hover:bg-gray-100">
            <td class="px-4 py-2 border-b">
              @Html.ActionLink((string)string.Format("{0}", asset.AccountCode), "account", new { id = asset.AccountId })
            </td>
            <td class="px-4 py-2 border-b">@asset.AccountName</td>
            <td class="px-4 py-2 border-b text-right">@asset.Amount</td>
          </tr>
        }
        <tr class="font-bold bg-gray-100">
          <td colspan="2" class="px-4 py-2 border-b">Total Assets</td>
          <td class="px-4 py-2 border-b text-right">@Model.Where(a => a.AccountClassId == 1).Sum(a => a.Amount)</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="mt-8 overflow-x-auto">
    <table class="table-auto w-full border border-gray-300">
      <thead class="bg-gray-200 text-gray-700">
        <tr class="font-bold text-left">
          <th class="px-4 py-2 border-b">Account Code</th>
          <th class="px-4 py-2 border-b">Account Name</th>
          <th class="px-4 py-2 border-b text-right">Amount</th>
        </tr>
      </thead>
      <tbody>
        @foreach (var liability in Model.Where(a => a.AccountClassId == 2))
        {
          <tr class="hover:bg-gray-100">
            <td class="px-4 py-2 border-b">
              @Html.ActionLink((string)string.Format("{0}", liability.AccountCode), "account", new
                {
                  id =
                     liability.AccountId
                })
            </td>
            <td class="px-4 py-2 border-b">@liability.AccountName</td>
            <td class="px-4 py-2 border-b text-right">@liability.Amount</td>
          </tr>
        }
        <tr class="font-bold bg-gray-100">
          <td colspan="2" class="px-4 py-2 border-b">Total Liabilities</td>
          <td class="px-4 py-2 border-b text-right">@Model.Where(a => a.AccountClassId == 2).Sum(a => a.Amount)</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="mt-8 overflow-x-auto">
    <table class="table-auto w-full border border-gray-300">
      <thead class="bg-gray-200 text-gray-700">
        <tr class="font-bold text-left">
          <th class="px-4 py-2 border-b">Account Code</th>
          <th class="px-4 py-2 border-b">Account Name</th>
          <th class="px-4 py-2 border-b text-right">Amount</th>
        </tr>
      </thead>
      <tbody>
        @foreach (var equity in Model.Where(a => a.AccountClassId == 3))
        {
          <tr class="hover:bg-gray-100">
            <td class="px-4 py-2 border-b">
              @Html.ActionLink((string)string.Format("{0}", equity.AccountCode), "account", new { id = equity.AccountId })
            </td>
            <td class="px-4 py-2 border-b">@equity.AccountName</td>
            <td class="px-4 py-2 border-b text-right">@equity.Amount</td>
          </tr>
        }
        <tr class="font-bold bg-gray-100">
          <td colspan="2" class="px-4 py-2 border-b">Total Equities</td>
          <td class="px-4 py-2 border-b text-right">@Model.Where(a => a.AccountClassId == 3).Sum(a => a.Amount)</td>
        </tr>
      </tbody>
    </table>
  </div>
}
else
{
  <p>Error fetching data.</p>
}